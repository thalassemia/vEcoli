{
    "inherit_from": ["antibiotics.json"],
    "add_processes": [
        "exchange-aware-bioscrape",
        "permeability",
        "death"
    ],
    "total_time": 100,
    "emitter_arg": [
        ["host", "localhost:27017"]
    ],
    "spatial_environment_config": {
        "field_timeline": {
            "timeline": [
                [30, {
                    "ampicillin": 0.0057
                }],
                [70, {
                    "ampicillin": 0.0
                }]
            ]
        }
    },
    "topology": {
        "exchange-aware-bioscrape": {
            "delta_species": ["bioscrape_deltas"],
            "exchanges": ["environment", "exchange"],
            "external": ["boundary", "external"],
            "rates": {
                "_path": ["null"],
                "export_kcat": ["..", "kinetic_parameters", "export_kcat"],
                "export_km": ["..", "kinetic_parameters", "export_km"],
                "export_n": ["..", "kinetic_parameters", "export_n"],
                "hydrolysis_kcat": ["..", "kinetic_parameters", "export_kcat"],
                "hydrolysis_km": ["..", "kinetic_parameters", "export_km"],
                "hydrolysis_n": ["..", "kinetic_parameters", "hydrolysis_n"],
                "permeability": ["..", "kinetic_parameters", "outer_ampicillin_permeability"],
                "permeability_r3": ["..", "kinetic_parameters", "outer_ampicillin_permeability"],
                "volume_p": ["..", "periplasm", "global", "volume"],
                "volume_p_r1": ["..", "periplasm", "global", "volume"],
                "volume_p_r3": ["..", "periplasm", "global", "volume"],
                "area": ["..", "boundary", "surface_area"],
                "area_r3": ["..", "boundary", "surface_area"]
            },
            "species": {
                "_path": ["null"],
                "acrab_tolc": ["..", "periplasm", "concentrations", "TRANS-CPLX-201[m]"],
                "ampc": ["..", "periplasm", "concentrations", "EG10040-MONOMER[p]"],
                "ampicillin_hydrolyzed": ["..", "periplasm", "concentrations", "ampicillin_hydrolyzed"],
                "ampicillin_periplasm": ["..", "periplasm", "concentrations", "ampicillin"]
            }
        },
        "permeability": {
            "porins": ["bulk"],
            "permeabilities": ["kinetic_parameters"],
            "surface_area": ["boundary", "surface_area"]
        },
        "death": {
            "global": ["boundary"],
            "processes": [],
            "internal": {
                "_path": ["null"],
                "ampicillin": ["..", "periplasm", "concentrations", "ampicillin"]
            }

        }
    },
    "process_configs": {
        "exchange-aware-bioscrape": {
            "external_species": ["ampicillin"],
            "name_map": [
                [["external", "ampicillin"], "ampicillin_environment"]
            ],
            "units_map": {
                "rates": {
                    "export_kcat": "!units[1 / second]",
                    "export_km": "!units[millimolar]",
                    "export_n": "!units[count]",
                    "hydrolysis_kcat": "!units[1 / second]",
                    "hydrolysis_km": "!units[millimolar]",
                    "hydrolysis_n": "!units[count]",
                    "permeability": "!units[centimeter / second]",
                    "permeability_r3": "!units[centimeter / second]",
                    "volume_p": "!units[milliliter]",
                    "volume_p_r1": "!units[milliliter]",
                    "volume_p_r3": "!units[milliliter]",
                    "area": "!units[decimeter**2]",
                    "area_r3": "!units[decimeter**2]"
                }
            },
            "sbml_file_path": "data/amp_sbml.xml",
            "species_to_convert_to_counts": {
                "ampicillin_periplasm": "volume_p",
                "ampicillin_hydrolyzed": "volume_p"
            },
            "time_step": 1
        },
        "permeability": {
            "porin_ids": ["CPLX0-7533[o]", "CPLX0-7534[o]"],
            "diffusing_molecules": {
                "outer_ampicillin_permeability": {
                    "concentration_perm": {
                        "CPLX0-7533[o]": "!units[0 centimeter * (micrometer ** 2)/ second]",
                        "CPLX0-7534[o]": "!units[6.67 * 1e-10 decimeter * (micrometer ** 2)/ second]"
                    },
                    "bilayer_perm": "!units[0 centimeter / second]"
                }
            }
        },
        "death": {
            "detectors": [
                ["antibiotic", {
                    "antibiotic_threshold": "!units[0.01 millimolar]",
                    "antibiotic_key": "ampicillin"
                }]
            ],
            "to_add": {
                "exchange-aware-bioscrape-diffusion-only": [
                    "exchange-aware-bioscrape",
                    {
                        "external_species": ["ampicillin"],
                        "name_map": [
                            [["external", "ampicillin"], "ampicillin_environment"]
                        ],
                        "units_map": {
                            "rates": {
                                "permeability": "!units[centimeter / second]",
                                "volume_p": "!units[milliliter]",
                                "area": "!units[decimeter**2]"
                            }
                        },
                        "sbml_file_path": "data/amp_diffusion_only_sbml.xml",
                        "time_step": 1
                    },
                    {
                        "delta_species": ["bioscrape_deltas"],
                        "exchanges": ["environment", "exchange"],
                        "external": ["boundary", "external"],
                        "rates": {
                            "_path": ["null"],
                            "permeability": ["..", "kinetic_parameters", "outer_ampicillin_permeability"],
                            "volume_p": ["..", "periplasm", "global", "volume"],
                            "area": ["..", "boundary", "surface_area"]
                        },
                        "species": {
                            "_path": ["null"],
                            "ampicillin_periplasm": ["..", "periplasm", "concentrations", "ampicillin"]
                        }
                    }
                ]
            }
        }
    }
}
